id: convos-year-full
name: "Conversations - Year (Full with Budget)"
version: 1.0.0
category: conversations
tags: [year, full, budget-aware]

description: |
  Year of conversations with dynamic date range for Intentions Narrative.

flexibility: high
total_estimated_tokens: 255000

slices:
  - name: CONVOS_YEAR
    retrieval: convos_context_data
    params:
      chat_ids: ["{{source_chat}}"]
      time:
        start_date: "{{range_start_iso}}"
        end_date: "{{range_end_iso}}"
      order: timeAsc
      token_max: "{{token_budget}}"
    estimated_tokens: 250000
    why_include: |
      Full year of conversations provides rich context for intentions analysis.

  - name: EXISTING_INTENTIONS
    retrieval: artifacts_context_data
    params:
      document_names: ["{{chat_name}} Intentions"]
    estimated_tokens: 5000
    why_include: |
      Include existing intentions artifact for continuity and updates.

